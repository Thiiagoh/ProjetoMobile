create database dadosfilmeseries;
use dadosfilmeseries;

CREATE TABLE IF NOT EXISTS `dadosfilmeseries`.`clientes` (
  `email` VARCHAR(100) NOT NULL,
  `senha` VARCHAR(100) NULL DEFAULT NULL,
  PRIMARY KEY (`email`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4

CREATE TABLE IF NOT EXISTS `dadosfilmeseries`.`filmes_series` (
  `id_filme_serie` INT(11) NOT NULL AUTO_INCREMENT,
  `titulo` VARCHAR(45) NOT NULL,
  `data` VARCHAR(45) NOT NULL,
  `genero` VARCHAR(45) NOT NULL,
  `tipo` VARCHAR(45) NOT NULL,
  `imagem` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id_filme_serie`))
ENGINE = InnoDB;

CREATE TABLE IF NOT EXISTS `dadosfilmeseries`.`filmes_series_assistidos` (
  `id_assistidos` INT(11) NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(100) NOT NULL,
  `temp` INT(11) NULL DEFAULT NULL,
  `ep` INT(11) NULL DEFAULT NULL,
  `tipo` VARCHAR(100) NOT NULL,
  `clientes_email` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`id_assistidos`),
  INDEX `fk_vistos_clientes1_idx` (`clientes_email` ASC),
  CONSTRAINT `fk_vistos_clientes1`
    FOREIGN KEY (`clientes_email`)
    REFERENCES `dadosfilmeseries`.`clientes` (`email`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
AUTO_INCREMENT = 64
DEFAULT CHARACTER SET = utf8mb4;

CREATE TABLE IF NOT EXISTS `dadosfilmeseries`.`filmes_series_assistir_mais_tarde` (
  `id_favoritos` INT(11) NOT NULL AUTO_INCREMENT,
  `clientes_email` VARCHAR(100) NOT NULL,
  `id_filme_serie` INT(11) NOT NULL,
  PRIMARY KEY (`id_favoritos`),
  INDEX `fk_favoritos_clientes_idx` (`clientes_email` ASC),
  INDEX `fk_filmes_series_assistir_mais_tarde_filmes_series1_idx` (`id_filme_serie` ASC),
  UNIQUE INDEX `id_filme_serie_UNIQUE` (`id_filme_serie` ASC),
  CONSTRAINT `fk_favoritos_clientes`
    FOREIGN KEY (`clientes_email`)
    REFERENCES `dadosfilmeseries`.`clientes` (`email`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_filmes_series_assistir_mais_tarde_filmes_series1`
    FOREIGN KEY (`id_filme_serie`)
    REFERENCES `dadosfilmeseries`.`filmes_series` (`id_filme_serie`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4;

CREATE TABLE IF NOT EXISTS `dadosfilmeseries`.`filmes_series_avaliacao` (
  `id_avaliacao` INT(11) NOT NULL AUTO_INCREMENT,
  `nota` INT(11) NULL DEFAULT NULL,
  `clientes_email` VARCHAR(100) NOT NULL,
  `id_filme_serie` INT(11) NOT NULL,
  PRIMARY KEY (`id_avaliacao`),
  INDEX `fk_avaliacao_clientes1_idx` (`clientes_email` ASC),
  INDEX `fk_filmes_series_avaliacao_filmes_series2_idx` (`id_filme_serie` ASC),
  CONSTRAINT `fk_avaliacao_clientes1`
    FOREIGN KEY (`clientes_email`)
    REFERENCES `dadosfilmeseries`.`clientes` (`email`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_filmes_series_avaliacao_filmes_series2`
    FOREIGN KEY (`id_filme_serie`)
    REFERENCES `dadosfilmeseries`.`filmes_series` (`id_filme_serie`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
AUTO_INCREMENT = 134
DEFAULT CHARACTER SET = utf8mb4;


INSERT INTO `filmes_series`(`titulo`, `data`, `genero`, `tipo`, `imagem`) VALUES ('Tenet', '2020', 'Ação/Ficção Científica', 'filme', 'tenet'), ('Bill & Ted', '2020', 'Ficção Científica', 'filme', 'billeted'), ('Rogue', '2020', 'Ação', 'Filme', 'rogue'), ('Anne with an E', '2017', 'Drama/Romance', 'filme', 'anne'), ('Gente Grande', '2010', 'Comédia', 'filme', 'gente_grande'), ('Brooklyn Nine-Nine', '2019', 'Comédia', 'filme', 'brooklyn'), ('Paixão Obsessiva', '2017', 'Ação', 'filme', 'paixao'), ('vis a Vis', '2015', 'Drama', 'filme', 'vis'), ('Ilha do Medo', '2010', 'Ação', 'filme', 'ilha');
INSERT INTO `filmes_series`(`titulo`, `data`, `genero`, `tipo`, `imagem`) VALUES ('Lucifer', '2020', 'Fantasia/Ficção Científica', 'serie', 'lucifer'), ('The Boys', '2020', 'Ação/Ficção Científica', 'serie', 'theboys'), ('Dark', '2020', 'Fantasia/Ficção Científica', 'serie', 'dark'), ('Ameaça Profunda', '2020', 'Terror/Ficção/Ação', 'serie', 'ameaca'), ('Homem Invisível', '2020', 'Suspense/Ficção/Terror', 'serie', 'homem'), ('Dois Irmãos Uma Jornada Fantástica', '2020', 'Animação', 'serie', 'dois'), ('O Poço', '2019', 'Drama', 'serie', 'poco'), ('Simpsons', '2019', 'Animação/Comédia', 'serie', 'sim'), ('Milagre na Cela 7', '2019', 'Drama/Comédia', 'serie', 'milagre')